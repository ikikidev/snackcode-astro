
---
import Layout from "../../layouts/Layout.astro";
---

<Layout>
  <h1 slot="title">Chuleta: Ventanas y Pop-ups | SnackCode</h1>

  <div class="container">
    <h1 class="mb-4 text-primary">ğŸªŸ Chuleta: Ventanas Emergentes con JavaScript</h1>

    <section class="mb-5">
      <h2>ğŸ“˜ Objeto <code>window</code></h2>
      <p><code>window</code> representa la ventana del navegador y es el objeto global de JavaScript en el navegador.</p>
      <table class="table table-bordered table-hover">
        <thead>
          <tr><th>MÃ©todo / Propiedad</th><th>Â¿Para quÃ© sirve?</th></tr>
        </thead>
        <tbody>
          <tr><td><code>window.open()</code></td><td>Abre una nueva ventana o pestaÃ±a</td></tr>
          <tr><td><code>window.close()</code></td><td>Cierra la ventana abierta</td></tr>
          <tr><td><code>window.opener</code></td><td>Referencia a la ventana que abriÃ³ la actual</td></tr>
          <tr><td><code>alert()</code></td><td>Muestra un mensaje emergente</td></tr>
        </tbody>
      </table>
    </section>

    <section class="mb-5">
      <h2>ğŸš€ Ejemplo bÃ¡sico: abrir una ventana</h2>
      <div class="chuleta-terminal">
        <code is:raw>
        &lt;button onclick="abrirVentana()"&gt;Abrir mensaje&lt;/button&gt;

        &lt;script&gt;
        function abrirVentana() {
          window.open(
            "https://snackcode.ikikidev.es",
            "SnackCode",
            "width=400,height=300"
          );
        }
        &lt;/script&gt;
        </code>
      </div>
    </section>

    <section class="mb-5">
      <h2>ğŸ’¬ ComunicaciÃ³n entre ventanas</h2>
      <div class="alert alert-info mt-3">
        ğŸ’¡ <strong>Consejo:</strong> Usa la extensiÃ³n <strong>Live Server</strong> en VS Code para que la <code>ventana madre</code> y la <code>ventana hija</code> se sirvan desde el mismo origen. AsÃ­ evitarÃ¡s errores de seguridad al comunicar ventanas.
      </div>

      <p>Permite que una ventana secundaria envÃ­e informaciÃ³n a la principal.</p>
      <h5>Ventana principal:</h5>
      <div class="chuleta-terminal">
        <code is:raw>
        &lt;button onclick="abrir()"&gt;Abrir hija&lt;/button&gt;
        &lt;p id="mensaje"&gt;&lt;/p&gt;

        &lt;script&gt;
        let hija;
        function abrir() {
          hija = window.open("hija.html", "Hija", "width=400,height=200");
        }
        function recibirMensaje(texto) {
          document.getElementById("mensaje").textContent = texto;
        }
        &lt;/script&gt;
        </code>
      </div>

      <h5 class="mt-3">Ventana hija:</h5>
      <div class="chuleta-terminal">
        <code is:raw>
        &lt;button onclick="enviar()"&gt;Enviar mensaje a la principal&lt;/button&gt;

        &lt;script&gt;
        function enviar() {
          if (window.opener) {
            window.opener.recibirMensaje("Hola desde la ventana hija ğŸ‘‹");
          }
        }
        &lt;/script&gt;
        </code>
      </div>

      <div class="preview mt-3">
        <button onclick="abrirVentanaHija()">Abrir hija âœŒï¸</button>
        <p id="mensaje-preview" style="margin-top: 10px;"></p>
      </div>
    </section>

    <section class="mb-5">
      <h2>â“ BotÃ³n de ayuda contextual</h2>
      <p>Una mini ventana flotante con consejos o atajos.</p>
      <div class="chuleta-terminal">
        <code is:raw>
        &lt;button onclick="abrirAyuda()"&gt;â“ Ayuda&lt;/button&gt;

        &lt;script&gt;
        function abrirAyuda() {
          window.open("ayuda.html", "Ayuda", "width=300,height=400,top=100,left=100");
        }
        &lt;/script&gt;
        </code>
      </div>

       <div class="preview mt-3">
        <button onclick="abrirAyuda()">â“ Ayuda</button>
        <p id="mensaje-preview" style="margin-top: 10px;"></p>
      </div>
    </section>

    <section class="mb-5">
      <h2>âš ï¸ Debate: Â¿por quÃ© se bloquean los pop-ups?</h2>
      <ul>
        <li>âŒ Se usaban para publicidad intrusiva</li>
        <li>ğŸš« Algunas se abrÃ­an sin clic del usuario</li>
        <li>ğŸ”’ PodÃ­an confundir o engaÃ±ar al usuario</li>
      </ul>
      <p>âœ… Ahora los navegadores solo permiten ventanas abiertas con interacciÃ³n directa del usuario.</p>
    </section>

    <section class="mb-5">
      <h2>ğŸ¯ ReflexiÃ³n final</h2>
      <ul>
        <li>Â¿DÃ³nde serÃ­a Ãºtil usar una ventana emergente?</li>
        <li>Â¿QuÃ© riesgos existen si se abusa de ellas?</li>
        <li>Â¿Has visto buenos usos de pop-ups?</li>
      </ul>
    </section>

  </div>
   <script src="/js/main.js" defer></script>
</Layout>
